======
Методы
======

------
Шаблон
------

Метод
-----

Описание метода

+-------------+------------------------------+
|адрес        | /module/api/method           |
+=============+==============================+
|http-метод   | GET/POST                     |
+-------------+------------------------------+
|параметры    |                              |
+-------------+------------------------------+
|ограничения  | нет                          |
+-------------+------------------------------+

------------
Модуль world
------------


Получение мира
--------------

Выдаёт массив клеток мира с базовой информацией: координаты, биом, наличие поселения.
В основном необходим для отрисовки карты.

+-------------+------------------------------+
|адрес        | /world/api/getworld/<int:id> |
+=============+==============================+
|http-метод   | GET                          |
+-------------+------------------------------+
|параметры    | * URL id - идентификатор мира|
+-------------+------------------------------+
|ограничения  | нет                          |
+-------------+------------------------------+

Генерация мира
--------------

Запрос на генерацию новой карты. Выполняется долго, в формате неблокирующей операции.

+-------------+------------------------------+
|адрес        |  /world/api/generate         |
+=============+==============================+
|http-метод   | POST                         |
+-------------+------------------------------+
|параметры    | нет                          |
+-------------+------------------------------+
|ограничения  | администратор                |
+-------------+------------------------------+


Подробная информация о клетке
-----------------------------

Информация о клетке со всеми тэгами, коротким списком населения (если есть),
биомом.

+-------------+------------------------------+
|адрес        | /world/api/getcell           |
+=============+==============================+
|http-метод   | GET                          |
+-------------+------------------------------+
|параметры    | * GET world_id - id мира     |
|             | * GET x - координата         |
|             | * GET y - координата         |
+-------------+------------------------------+
|ограничения  | нет                          |
+-------------+------------------------------+

Подробная информация о единице населения
-----------------------------------------

Возвращает информацию о единице со всеми тегами.

+-------------+------------------------------+
|адрес        | /world/api/pop/<int:id>      |
+=============+==============================+
|http-метод   | GET                          |
+-------------+------------------------------+
|параметры    | * URL - id единицы           |
+-------------+------------------------------+
|ограничения  | нет                          |
+-------------+------------------------------+

Список городов
--------------

Возвращает список городов в мире (клеток с населением)

+-------------+-----------------------------------+
|адрес        | /worldapi/citylist/<int:worldid>  |
+=============+===================================+
|http-метод   | GET                               |
+-------------+-----------------------------------+
|параметры    | * URL - id мира                   |
+-------------+-----------------------------------+
|ограничения  | нет                               |
+-------------+-----------------------------------+